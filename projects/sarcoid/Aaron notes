Hey Alan,
I hope you had a great honeymoon. I wasn't sure if you were going to be back for the meeting today. Phil and Joe will be on, but I am going to be gone from today through this weekend. So I wanted to give you a heads up on a couple of items Phil would like you to work on, he will describe these in more detail during the meeting.
First, we have preliminary delay reports run for both PE and lung cancer. However, he would also like the risk factor reports run if possible by the end of this week (Roger is giving a talk). I tried to run the preliminary risk factor report last night, but the job was killed for both conditions. I haven't had time to diagnosis the problem, but I think it is due to the large size of the population for PE and lung cancer. If you are able to get a script running to generate these results, that would be great. However, because of the short timeline you might have to fall back on running a single risk-factor model the way we did in the past (i.e., not running a model for each bootstrapped sample, but instead using potential missed opportunities.) BTW, the script for the risk models can be found at delay_diagnosis/build_scripts/R/make_delay_report.R in the delay_diagnosis repo.
Second, if you have time after generating the risk reports for PE and lung cancer, we then need to turn to Sarcoid. I got new SSDs and index criteria from our collaborators in Pulmonary. I have integrated this into the codeBuildr package and regenerated all of the preliminary results on the statepi_diagnosis drive (i.e., change-point report, delay report, risk models, etc.) Now the only thing left to do is to generate a final delay analysis (i.e., the 2-layer bootstrap) and a final set of risk models for the paper. For the paper they would like to add the following factors to the risk model, in addition to the basic stuff we already control for (e.g., age categories, sex, month, year).:
Obesity - consider indicators for both any obesity and/or morbid obesity using the following code sets:
Morbid Obesity (ICD9: 278.01, ICD10: E66.01, E66.2)
Any Obesity (ICD9: 278.0X [278.00, 278.01, 278.02, 278.03] or ICD10: E66.X [E66, E66.0, E66.01, E66.09, E66.1, E66.2, E66.3, E66.8, E66.9])
Medications received during the opportunity window (or at a missed opportunity). There is a dataset saved at /Shared/Statepi_Diagnosis/projects/sarcoid/code_sets/drug_risk_factor_codes.RData that contains the ndc codes for the following conditions
Oral Steroids
Inhalers
Other - the object other_drugs contains NDC codes and categories of drug classes, we essentially want an indicator in the model for each drug class. We may drop some of these if they lack sufficient observations.
Let me know if you have any questions. Phil can give more details during the meeting today (if you are able to attend). I will try to check-in on Slack from time to time. But if I don't get back to you, feel free to pursue whatever options you think are best.
Thanks